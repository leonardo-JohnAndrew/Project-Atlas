/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Color;
import java.awt.Cursor;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.HeadlessException;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.BorderFactory;
import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JPasswordField;
import javax.swing.JTextField;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;
import javax.swing.border.EtchedBorder;
import javax.swing.*;
import java.sql.*;
/**
 *
 * @author GADGETCORE
 */
public class MainForm extends javax.swing.JFrame{

    /**
     * Creates new form MainForm
     */
    Connection con;
    PreparedStatement pstm;
    ResultSet result;
    int pinn , accountno1,bal;
    String Fname ,Lname, Mname , type = "";
;
    public MainForm() {
       
        initComponents();
        setLocationRelativeTo(null);
        mySqlDriver();
    }
   void mySqlDriver(){
       String pass = "";
       String username  = "root";
       String url = "jdbc:mysql://localhost/bank";
       String driver = "com.mysql.cj.jdbc.Driver";
       
       try {
           Class.forName(driver);
           con = DriverManager.getConnection(url,username,pass);
       }catch (ClassNotFoundException | SQLException e ) {
           JOptionPane.showMessageDialog(null, e);
       }
   }// sql
   
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        jLabel2 = new JLabel();
        jLabel1 = new JLabel();
        txtpin = new JPasswordField();
        btnLogin = new JButton();
        btnSignup = new JButton();
        btnExit = new JButton();
        txtaccountno = new JTextField();

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        setTitle("MainForm");
        setBackground(new Color(255, 51, 0));
        setCursor(new Cursor(Cursor.DEFAULT_CURSOR));
        setResizable(false);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(EtchedBorder.RAISED, new Color(204, 0, 0), new Color(0, 0, 0)));

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(BorderFactory.createLineBorder(new Color(255, 51, 0)));
        jPanel2.setForeground(new Color(255, 255, 51));

        jLabel2.setBackground(new Color(0, 0, 0));
        jLabel2.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel2.setForeground(new Color(0, 0, 0));
        jLabel2.setText("PIN NUMBER :");

        jLabel1.setBackground(new Color(0, 0, 0));
        jLabel1.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel1.setForeground(new Color(0, 0, 0));
        jLabel1.setText("ACCOUNT NUMBER :");

        txtpin.setBackground(new Color(204, 204, 204));

        btnLogin.setBackground(new Color(255, 51, 0));
        btnLogin.setFont(new Font("Bernard MT Condensed", 0, 18)); // NOI18N
        btnLogin.setForeground(new Color(255, 204, 51));
        btnLogin.setText("LOG IN");
        btnLogin.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnLoginActionPerformed(evt);
            }
        });

        btnSignup.setBackground(new Color(255, 51, 0));
        btnSignup.setFont(new Font("Bernard MT Condensed", 0, 18)); // NOI18N
        btnSignup.setForeground(new Color(255, 204, 51));
        btnSignup.setText("SIGN UP");
        btnSignup.setPreferredSize(new Dimension(74, 29));
        btnSignup.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnSignupActionPerformed(evt);
            }
        });

        btnExit.setBackground(new Color(255, 51, 0));
        btnExit.setFont(new Font("Bernard MT Condensed", 0, 14)); // NOI18N
        btnExit.setForeground(new Color(255, 204, 51));
        btnExit.setText("EXIT");
        btnExit.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnExitActionPerformed(evt);
            }
        });

        txtaccountno.setBackground(new Color(204, 204, 204));
        txtaccountno.setForeground(new Color(51, 51, 51));
        txtaccountno.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtaccountnoActionPerformed(evt);
            }
        });

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel2)
                            .addComponent(jLabel1))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                            .addComponent(txtpin, GroupLayout.DEFAULT_SIZE, 145, Short.MAX_VALUE)
                            .addComponent(txtaccountno))
                        .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addGap(0, 83, Short.MAX_VALUE)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                                .addComponent(btnExit, GroupLayout.PREFERRED_SIZE, 84, GroupLayout.PREFERRED_SIZE)
                                .addContainerGap())
                            .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                                    .addComponent(btnLogin, GroupLayout.PREFERRED_SIZE, 180, GroupLayout.PREFERRED_SIZE)
                                    .addComponent(btnSignup, GroupLayout.PREFERRED_SIZE, 180, GroupLayout.PREFERRED_SIZE))
                                .addGap(68, 68, 68))))))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(86, 86, 86)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(txtaccountno, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addGap(12, 12, 12)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(txtpin, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, 88, Short.MAX_VALUE)
                .addComponent(btnLogin, GroupLayout.PREFERRED_SIZE, 37, GroupLayout.PREFERRED_SIZE)
                .addGap(31, 31, 31)
                .addComponent(btnSignup, GroupLayout.PREFERRED_SIZE, 35, GroupLayout.PREFERRED_SIZE)
                .addGap(58, 58, 58)
                .addComponent(btnExit, GroupLayout.PREFERRED_SIZE, 31, GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(49, Short.MAX_VALUE)
                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addGap(45, 45, 45))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(33, Short.MAX_VALUE)
                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addGap(25, 25, 25))
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.Alignment.TRAILING, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>                        

    private void btnLoginActionPerformed(ActionEvent evt) {                                         
      
        try {
        accountno1 = Integer.parseInt(txtaccountno.getText());
        pinn = Integer.parseInt(txtpin.getText());
        
       
        try {
           pstm =con. prepareStatement("SELECT * from userinfo where accountno=? AND pin=?");
           pstm.setInt(1, accountno1);
           pstm.setInt(2, pinn);
            result = pstm.executeQuery();
         
            if (result.next()){
               Fname=  result.getString(3);
               Lname = result.getString(2);
               Mname = result.getString(4);
               String Bal = result.getString(6);
               bal =Integer.parseInt(Bal);
                JOptionPane.showMessageDialog(null, "Log In Success");
               
                Mainmenu mm = new Mainmenu();
                mm.zipper(accountno1,pinn,Lname,Fname,Mname,bal,type);
                mm.setVisible(true);
                setVisible(false);
            }else {
               JOptionPane.showMessageDialog(null,"Invalid");   
            }
           
           
        }catch  (SQLException | HeadlessException e) {
             JOptionPane.showMessageDialog(null,e);
        }
        }catch (NumberFormatException e){
            JOptionPane.showMessageDialog(null, "Please Input a number");
            
        }
    }                                        
  
    private void btnExitActionPerformed(ActionEvent evt) {                                        
        // TODO add your handling code here:
        System.exit(0);
    }                                       

    private void btnSignupActionPerformed(ActionEvent evt) {                                          
        // TODO add your handling code here:
       Register reg = new Register ();
       reg.setVisible(true);
       setVisible(false);
       
    }                                         

    private void txtaccountnoActionPerformed(ActionEvent evt) {                                             
        // TODO add your handling code here:
    }                                            

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(MainForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(MainForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(MainForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(MainForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        
                SplashLoading screen = new SplashLoading();
        screen.setVisible(true);
        try {
            for (int i = 0; i<=100; i++) {
                Thread.sleep(50);
                screen.load.setText(Integer.toString(i)+"%");
               screen.Loading.setValue(i);
               
            }
        } catch (Exception e) {
        }
        screen.setVisible(false);
                new MainForm().setVisible(true);
    }

    // Variables declaration - do not modify                     
    private JButton btnExit;
    private JButton btnLogin;
    private JButton btnSignup;
    private JLabel jLabel1;
    private JLabel jLabel2;
    private JPanel jPanel1;
    private JPanel jPanel2;
    public JTextField txtaccountno;
    private JPasswordField txtpin;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.HeadlessException;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.BorderFactory;
import javax.swing.GroupLayout;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;
import javax.swing.border.LineBorder;
import javax.sql.*;
import javax.swing.*;
/**
 *
 * @author GADGETCORE
 */
public class Mainmenu extends javax.swing.JFrame {
ResultSet rs;
Connection con;
PreparedStatement ps;


int pin,accountnum,balance;
String pinum,accno,lname ,fname,mname,baln , type = "Main menu";
    /** 
     * Creates new form Mainmenu
     */
    public Mainmenu() {
  
        initComponents();
        setLocationRelativeTo(null);
        mySqlDriver();
       
        
        
    }
     void mySqlDriver(){
       String pass = "";
       String username  = "root";
       String url = "jdbc:mysql://localhost/bank";
       String driver = "com.mysql.cj.jdbc.Driver";
       
       try {
           Class.forName(driver);
           con = DriverManager.getConnection(url,username,pass);
       }catch (ClassNotFoundException | SQLException e ) {
           JOptionPane.showMessageDialog(null, e);
       }
   }// sql
     void zipper (int accountno, int pin, String fname ,String lname,String mname,int balance,String type){
     
        this.accountnum = accountno;
        this.pin = pin ;
        this.lname = lname;
        this.fname = fname;
        this.mname = mname;
        this.balance = balance;
        this.type = type;
         txtName.setText(""+this.accountnum+":"+this.fname.toUpperCase()+" "+this.lname.toUpperCase()+" "+this.mname.toUpperCase());
     }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        btnPaybill = new JButton();
        btnWithdraw = new JButton();
        btnDeposit = new JButton();
        btnTransferfund = new JButton();
        btnChangepin = new JButton();
        btnCheckbalance = new JButton();
        jLabel1 = new JLabel();
        txtName = new JTextField();
        btnBack = new JButton();

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        setTitle("CHOICE");
        setPreferredSize(new Dimension(450, 490));
        setResizable(false);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(204, 0, 0), new Color(0, 0, 0)));

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(new LineBorder(new Color(255, 51, 0), 1, true));

        btnPaybill.setBackground(new Color(255, 102, 0));
        btnPaybill.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnPaybill.setForeground(new Color(255, 204, 51));
        btnPaybill.setIcon(new ImageIcon("C:\\Users\\GADGETCORE\\Downloads\\icons8-paybill-66.png")); // NOI18N
        btnPaybill.setText("PAYBILLS");
        btnPaybill.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnPaybillActionPerformed(evt);
            }
        });

        btnWithdraw.setBackground(new Color(255, 102, 0));
        btnWithdraw.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnWithdraw.setForeground(new Color(255, 204, 51));
        btnWithdraw.setIcon(new ImageIcon("C:\\Users\\GADGETCORE\\Downloads\\icons8-withdraw-48.png")); // NOI18N
        btnWithdraw.setText("WITHDRAW");
        btnWithdraw.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnWithdrawActionPerformed(evt);
            }
        });

        btnDeposit.setBackground(new Color(255, 102, 0));
        btnDeposit.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnDeposit.setForeground(new Color(255, 204, 51));
        btnDeposit.setIcon(new ImageIcon("C:\\Users\\GADGETCORE\\Downloads\\icons8-deposit-48.png")); // NOI18N
        btnDeposit.setText("DEPOSIT");
        btnDeposit.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnDepositActionPerformed(evt);
            }
        });

        btnTransferfund.setBackground(new Color(255, 102, 0));
        btnTransferfund.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnTransferfund.setForeground(new Color(255, 204, 51));
        btnTransferfund.setIcon(new ImageIcon("C:\\Users\\GADGETCORE\\Downloads\\icons8-data-transfer-48.png")); // NOI18N
        btnTransferfund.setText("TRANSFER FUND");
        btnTransferfund.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnTransferfundActionPerformed(evt);
            }
        });

        btnChangepin.setBackground(new Color(255, 102, 0));
        btnChangepin.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnChangepin.setForeground(new Color(255, 204, 51));
        btnChangepin.setIcon(new ImageIcon("C:\\Users\\GADGETCORE\\Downloads\\icons8-pin-pad-48.png")); // NOI18N
        btnChangepin.setText("CHANGE PIN");
        btnChangepin.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnChangepinActionPerformed(evt);
            }
        });

        btnCheckbalance.setBackground(new Color(255, 102, 0));
        btnCheckbalance.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnCheckbalance.setForeground(new Color(255, 204, 51));
        btnCheckbalance.setIcon(new ImageIcon("C:\\Users\\GADGETCORE\\Downloads\\icons8-money-bag-48.png")); // NOI18N
        btnCheckbalance.setText("CHECK BALANCE");
        btnCheckbalance.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnCheckbalanceActionPerformed(evt);
            }
        });

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(btnWithdraw, GroupLayout.PREFERRED_SIZE, 178, GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(62, 62, 62)
                        .addComponent(btnTransferfund, GroupLayout.PREFERRED_SIZE, 195, GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(35, 35, 35)
                        .addComponent(btnPaybill, GroupLayout.PREFERRED_SIZE, 192, GroupLayout.PREFERRED_SIZE)))
                .addGap(0, 0, Short.MAX_VALUE))
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap(92, Short.MAX_VALUE)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addComponent(btnDeposit, GroupLayout.PREFERRED_SIZE, 200, GroupLayout.PREFERRED_SIZE)
                        .addGap(86, 86, 86))
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addComponent(btnChangepin, GroupLayout.PREFERRED_SIZE, 194, GroupLayout.PREFERRED_SIZE)
                        .addGap(55, 55, 55))
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addComponent(btnCheckbalance, GroupLayout.PREFERRED_SIZE, 192, GroupLayout.PREFERRED_SIZE)
                        .addGap(26, 26, 26))))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnWithdraw, GroupLayout.PREFERRED_SIZE, 47, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnPaybill, GroupLayout.PREFERRED_SIZE, 49, GroupLayout.PREFERRED_SIZE)
                .addGap(12, 12, 12)
                .addComponent(btnTransferfund, GroupLayout.PREFERRED_SIZE, 46, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnDeposit, GroupLayout.PREFERRED_SIZE, 44, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnChangepin, GroupLayout.PREFERRED_SIZE, 41, GroupLayout.PREFERRED_SIZE)
                .addGap(12, 12, 12)
                .addComponent(btnCheckbalance, GroupLayout.PREFERRED_SIZE, 41, GroupLayout.PREFERRED_SIZE)
                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jLabel1.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jLabel1.setForeground(new Color(255, 51, 0));
        jLabel1.setText("SELECT TRANSACTION..");

        txtName.setEditable(false);
        txtName.setBackground(new Color(255, 255, 102));
        txtName.setFont(new Font("Bodoni MT Condensed", 1, 12)); // NOI18N
        txtName.setForeground(new Color(255, 102, 0));
        txtName.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtNameActionPerformed(evt);
            }
        });

        btnBack.setBackground(new Color(255, 51, 0));
        btnBack.setFont(new Font("Bernard MT Condensed", 0, 14)); // NOI18N
        btnBack.setForeground(new Color(255, 204, 51));
        btnBack.setText("SAVE");
        btnBack.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnBackActionPerformed(evt);
            }
        });

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(40, 40, 40)
                        .addComponent(jLabel1, GroupLayout.PREFERRED_SIZE, 142, GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 202, GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(22, 22, 22)
                        .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(btnBack, GroupLayout.PREFERRED_SIZE, 110, GroupLayout.PREFERRED_SIZE)
                        .addGap(16, 16, 16)))
                .addContainerGap(22, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(26, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1, GroupLayout.PREFERRED_SIZE, 26, GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtName, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnBack)
                .addGap(20, 20, 20))
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>                        

    private void btnBackActionPerformed(ActionEvent evt) {                                        
        // TODO add your handling code here:
        MainForm mf = new MainForm ();
       
        mf.setVisible(true);
        setVisible(false);
    }                                       

    private void btnWithdrawActionPerformed(ActionEvent evt) {                                            
       Withdrawal wd = new Withdrawal();
       wd.Zahandu(this.accountnum,this.pin, this.fname, this.lname, this.mname, this.balance);
        setVisible(false);
        wd.setVisible(true);
    }                                           

    private void txtNameActionPerformed(ActionEvent evt) {                                        
       
    }                                       

    private void btnDepositActionPerformed(ActionEvent evt) {                                           
         Deposit d = new Deposit();
        d.Zahandu(this.accountnum,this.pin, this.fname, this.lname, this.mname, this.balance);
        setVisible(false);
        d.setVisible(true);
    }                                          

    private void btnPaybillActionPerformed(java.awt.event.ActionEvent evt) {                                           
        Paybills pay = new Paybills ();
        pay.Zahandu(this.accountnum, this.pin, this.fname, this.lname, this.mname, this.balance);
        pay.setVisible(true);
        setVisible(false);
    }                                          

    private void btnTransferfundActionPerformed(ActionEvent evt) {                                                
        TransferFund tf= new TransferFund();
       tf.Zahandu(this.accountnum,this.pin, this.fname, this.lname, this.mname, this.balance);
        setVisible(false);
        tf.setVisible(true);
    }                                               

    private void btnChangepinActionPerformed(ActionEvent evt) {                                             
        Changepin cp = new Changepin();
       cp.Zahandu(this.accountnum,this.pin, this.fname, this.lname, this.mname, this.balance,this.type);
        setVisible(false);
        cp.setVisible(true);
    }                                            

    private void btnCheckbalanceActionPerformed(ActionEvent evt) {                                                
          CheckBalance cb = new CheckBalance();
       cb.Zahandu(this.accountnum,this.pin, this.fname, this.lname, this.mname, this.balance,this.type);
        setVisible(false);
        cb.setVisible(true);
    }                                               

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Mainmenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Mainmenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Mainmenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Mainmenu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
      
         new Mainmenu ().setVisible(true);
    
    }

    // Variables declaration - do not modify                     
    private JButton btnBack;
    private JButton btnChangepin;
    private JButton btnCheckbalance;
    private JButton btnDeposit;
    private JButton btnPaybill;
    private JButton btnTransferfund;
    private JButton btnWithdraw;
    private JLabel jLabel1;
    private JPanel jPanel1;
    private JPanel jPanel2;
    private JTextField txtName;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Color;
import java.awt.Font;
import java.awt.HeadlessException;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.BorderFactory;
import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;

/**
 *
 * @author GADGETCORE
 */
public class Changepin extends javax.swing.JFrame {
ResultSet rs;
PreparedStatement pst;
Connection con ;
int WBalance,pin,accountno,deposit,oldpin,newpin,confirmpin;
String account,pinnu,fname,lname,mname,wbalance,type = "Change Pin";
    /**
     * Creates new form Changepin
     */
    public Changepin() {
        initComponents();
        setLocationRelativeTo(null);
         mySqlDriver();
    }
 void Zahandu(int account,int pin ,String fname ,String lname,String mname, int bal,String type){
        this.accountno = account ; 
        this.pin = pin;
        this.fname = fname;
        this.lname  = lname;
        this.mname = mname;
        this.WBalance = bal;
        this.type = type;
        txtName.setText(""+this.accountno+":"+this.fname.toUpperCase()+" "+this.lname.toUpperCase()+" "+this.mname.toUpperCase());
 }
  void mySqlDriver(){
       String pass = "";
       String username  = "root";
       String url = "jdbc:mysql://localhost/bank";
       String driver = "com.mysql.cj.jdbc.Driver";
       
       try {
           Class.forName(driver);
           con = DriverManager.getConnection(url,username,pass);
       }catch (ClassNotFoundException | SQLException e ) {
           JOptionPane.showMessageDialog(null, e);
       }
   }// sql
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        txtName = new JTextField();
        jLabel2 = new JLabel();
        jLabel3 = new JLabel();
        txtnew = new JTextField();
        txtconfirm = new JTextField();
        jLabel4 = new JLabel();
        txtold = new JTextField();
        btnConfirm = new JButton();
        btnBack = new JButton();
        jLabel1 = new JLabel();

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(204, 0, 0), new Color(0, 0, 0)));

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(BorderFactory.createLineBorder(new Color(255, 51, 0)));

        txtName.setBackground(new Color(255, 204, 51));
        txtName.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        txtName.setForeground(new Color(255, 51, 0));

        jLabel2.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel2.setForeground(new Color(255, 51, 0));
        jLabel2.setText("CONFIRM NEW PIN");

        jLabel3.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel3.setForeground(new Color(255, 51, 0));
        jLabel3.setText("NEW PIN NUMBER:");

        txtnew.setBackground(new Color(255, 51, 0));
        txtnew.setForeground(new Color(255, 204, 102));

        txtconfirm.setBackground(new Color(255, 51, 0));
        txtconfirm.setForeground(new Color(255, 204, 102));
        txtconfirm.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtconfirmActionPerformed(evt);
            }
        });

        jLabel4.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel4.setForeground(new Color(255, 51, 0));
        jLabel4.setText("OLD PIN NUMBER :");

        txtold.setBackground(new Color(255, 51, 0));
        txtold.setForeground(new Color(255, 204, 102));
        txtold.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtoldActionPerformed(evt);
            }
        });

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(6, 6, 6)
                        .addComponent(jLabel3))
                    .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
                        .addGroup(GroupLayout.Alignment.LEADING, jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel2)
                            .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(txtconfirm, GroupLayout.PREFERRED_SIZE, 132, GroupLayout.PREFERRED_SIZE))
                        .addGroup(GroupLayout.Alignment.LEADING, jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                            .addComponent(txtName, GroupLayout.Alignment.LEADING, GroupLayout.PREFERRED_SIZE, 303, GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addComponent(jLabel4, GroupLayout.PREFERRED_SIZE, 152, GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                    .addComponent(txtnew, GroupLayout.PREFERRED_SIZE, 133, GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtold, GroupLayout.PREFERRED_SIZE, 133, GroupLayout.PREFERRED_SIZE))))))
                .addGap(15, 15, 15))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 48, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(txtold, GroupLayout.PREFERRED_SIZE, 22, GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(txtnew, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel3)
                        .addGap(18, 18, 18)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel2)
                            .addComponent(txtconfirm, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(35, Short.MAX_VALUE))
        );

        btnConfirm.setBackground(new Color(255, 51, 0));
        btnConfirm.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnConfirm.setForeground(new Color(255, 204, 51));
        btnConfirm.setText("CONFIRM");
        btnConfirm.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnConfirmActionPerformed(evt);
            }
        });

        btnBack.setBackground(new Color(255, 51, 0));
        btnBack.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnBack.setForeground(new Color(255, 204, 51));
        btnBack.setText("BACK");
        btnBack.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnBackActionPerformed(evt);
            }
        });

        jLabel1.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jLabel1.setForeground(new Color(255, 51, 0));
        jLabel1.setText("LESS THAN EXIST BALANCE");

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1)
                    .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
                        .addGroup(jPanel1Layout.createSequentialGroup()
                            .addComponent(btnBack)
                            .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(btnConfirm))
                        .addComponent(jPanel2, GroupLayout.Alignment.LEADING, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(33, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(7, 7, 7)
                .addComponent(jLabel1)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(btnConfirm)
                    .addComponent(btnBack))
                .addContainerGap())
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>                        

    private void txtconfirmActionPerformed(ActionEvent evt) {                                           
        // TODO add your handling code here:
    }                                          

    private void txtoldActionPerformed(ActionEvent evt) {                                       
        // TODO add your handling code here:
    }                                      

    private void btnConfirmActionPerformed(ActionEvent evt) {                                           
        
        oldpin = Integer.parseInt(txtold.getText());
        try {
            pst =con. prepareStatement("SELECT * from userinfo where pin=?");
            pst.setInt(1, oldpin);
           rs = pst.executeQuery();
        
   
        }catch (SQLException |HeadlessException e){
          JOptionPane.showMessageDialog(null, "INVALID");
        }
        
       newpin = Integer.parseInt(txtnew.getText());
       this.pin = newpin;
       confirmpin = Integer.parseInt(txtconfirm.getText());
       if (this.pin!=confirmpin){
           JOptionPane.showMessageDialog(null, "Incorrect Try Again");
       }else{
           
           
             try  {
          pst = con.prepareStatement("Update userinfo set pin=? where accountno =?");
          pst.setInt(1,this.pin);
          pst.setInt(2,this.accountno );
          pst.executeUpdate();
          
          JOptionPane.showMessageDialog(null, "Change Pin Success");
           }catch(SQLException e){
               
                 JOptionPane.showMessageDialog(null,e.getMessage());
           }
           }
    }                                          

    private void btnBackActionPerformed(ActionEvent evt) {                                        
         Mainmenu mn = new Mainmenu ();
        mn.zipper(this.accountno,this.pin, this.fname, this.lname, this.mname, this.WBalance,this.type);
        mn.setVisible(true);
        setVisible(false);
    }                                       

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Changepin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Changepin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Changepin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Changepin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Changepin().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private JButton btnBack;
    private JButton btnConfirm;
    private JLabel jLabel1;
    private JLabel jLabel2;
    private JLabel jLabel3;
    private JLabel jLabel4;
    private JPanel jPanel1;
    private JPanel jPanel2;
    private JTextField txtName;
    private JTextField txtconfirm;
    private JTextField txtnew;
    private JTextField txtold;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.BorderFactory;
import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;

/**
 *
 * @author GADGETCORE
 */
public class CheckBalance extends javax.swing.JFrame {
String company;
int WBalance,pin,accountno,paybills;
String account,pinn,fname,lname,mname,wbalance,type;
    /**
     * Creates new form CheckBalance
     */
    public CheckBalance() {
        initComponents();
        setLocationRelativeTo(null);
    }
 void Zahandu(int account,int pin ,String fname ,String lname,String mname, int bal,String type){
        this.accountno = account ; 
        this.pin = pin;
        this.fname = fname;
        this.lname  = lname;
        this.mname = mname;
        this.type = type;
        this.WBalance = bal;
        txtLname.setText(this.fname);
        txtFname.setText(this.lname);
        txtMname.setText(this.mname);
        txtaccount.setText(""+this.accountno);
        txttype.setText(this.type);
        txtBal.setText(""+this.WBalance);
    } 
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        jLabel1 = new JLabel();
        jLabel3 = new JLabel();
        jLabel4 = new JLabel();
        jLabel5 = new JLabel();
        jLabel6 = new JLabel();
        jLabel7 = new JLabel();
        jLabel8 = new JLabel();
        txtLname = new JTextField();
        txtMname = new JTextField();
        txtFname = new JTextField();
        txtaccount = new JTextField();
        txttype = new JTextField();
        txtBal = new JTextField();
        btnBack = new JButton();

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        setTitle("CHECK BALANCE");
        setResizable(false);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(255, 0, 0), new Color(0, 0, 0)));

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(BorderFactory.createLineBorder(new Color(255, 51, 0)));

        jLabel3.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel3.setForeground(new Color(255, 51, 0));
        jLabel3.setText("LAST NAME :");

        jLabel4.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel4.setForeground(new Color(255, 51, 0));
        jLabel4.setText("LAST TRANSACTION :");

        jLabel5.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel5.setForeground(new Color(255, 51, 0));
        jLabel5.setText("ACCOUNT NUMBER :");

        jLabel6.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel6.setForeground(new Color(255, 51, 0));
        jLabel6.setText("FIRST NAME :");

        jLabel7.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel7.setForeground(new Color(255, 51, 0));
        jLabel7.setText("MIDDLE :");

        jLabel8.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel8.setForeground(new Color(255, 51, 0));
        jLabel8.setText("BALANCE :");

        txtLname.setBackground(new Color(255, 51, 0));
        txtLname.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txtLname.setForeground(new Color(255, 204, 51));

        txtMname.setBackground(new Color(255, 51, 0));
        txtMname.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txtMname.setForeground(new Color(255, 204, 51));

        txtFname.setBackground(new Color(255, 51, 0));
        txtFname.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txtFname.setForeground(new Color(255, 204, 51));

        txtaccount.setBackground(new Color(255, 51, 0));
        txtaccount.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txtaccount.setForeground(new Color(255, 204, 51));

        txttype.setBackground(new Color(255, 51, 0));
        txttype.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txttype.setForeground(new Color(255, 204, 51));

        txtBal.setBackground(new Color(255, 51, 0));
        txtBal.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txtBal.setForeground(new Color(255, 204, 51));

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(14, 14, 14)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel3)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel1, GroupLayout.PREFERRED_SIZE, 125, GroupLayout.PREFERRED_SIZE))
                    .addComponent(jLabel6)
                    .addComponent(jLabel7)
                    .addComponent(jLabel5)
                    .addComponent(jLabel8, GroupLayout.PREFERRED_SIZE, 162, GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtLname, GroupLayout.DEFAULT_SIZE, 139, Short.MAX_VALUE)
                    .addComponent(txtMname)
                    .addComponent(txtFname)
                    .addComponent(txtaccount)
                    .addComponent(txttype)
                    .addComponent(txtBal))
                .addContainerGap(21, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(19, 19, 19)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3)
                    .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
                        .addComponent(txtLname, GroupLayout.Alignment.LEADING)
                        .addComponent(jLabel1, GroupLayout.Alignment.LEADING, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel6)
                    .addComponent(txtFname, GroupLayout.Alignment.TRAILING, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(txtMname, GroupLayout.PREFERRED_SIZE, 26, GroupLayout.PREFERRED_SIZE)
                        .addGap(3, 3, 3))
                    .addComponent(jLabel7))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(txtaccount, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5))
                .addGap(23, 23, 23)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(txttype, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, 15, Short.MAX_VALUE)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel8)
                    .addComponent(txtBal, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addGap(19, 19, 19))
        );

        btnBack.setBackground(new Color(255, 51, 0));
        btnBack.setFont(new Font("Bernard MT Condensed", 0, 14)); // NOI18N
        btnBack.setForeground(new Color(255, 204, 51));
        btnBack.setText("Back");
        btnBack.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnBackActionPerformed(evt);
            }
        });

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(37, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(btnBack, GroupLayout.PREFERRED_SIZE, 84, GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addGap(45, 45, 45))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(45, Short.MAX_VALUE)
                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnBack)
                .addGap(12, 12, 12))
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        pack();
    }// </editor-fold>                        

    private void btnBackActionPerformed(ActionEvent evt) {                                        
        // TODO add your handling code here:
        setVisible(false);
        MainForm mf = new MainForm();
        mf.setVisible(true);

    }                                       

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(CheckBalance.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(CheckBalance.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(CheckBalance.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(CheckBalance.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new CheckBalance().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private JButton btnBack;
    private JLabel jLabel1;
    private JLabel jLabel3;
    private JLabel jLabel4;
    private JLabel jLabel5;
    private JLabel jLabel6;
    private JLabel jLabel7;
    private JLabel jLabel8;
    private JPanel jPanel1;
    private JPanel jPanel2;
    private JTextField txtBal;
    private JTextField txtFname;
    private JTextField txtLname;
    private JTextField txtMname;
    private JTextField txtaccount;
    private JTextField txttype;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.BorderFactory;
import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;

/**
 *
 * @author GADGETCORE
 */
public class Deposit extends javax.swing.JFrame {
ResultSet rs;
PreparedStatement pst;
Connection con ;
int WBalance,pin,accountno,deposit;
String account,pinn,fname,lname,mname,wbalance,type ="Deposit";
    /**
     * Creates new form Deposit
     */
    public Deposit() {
        initComponents();
        setLocationRelativeTo(null);
         mySqlDriver();
        
    }
 void Zahandu(int account,int pin ,String fname ,String lname,String mname, int bal){
        this.accountno = account ; 
        this.pin = pin;
        this.fname = fname;
        this.lname  = lname;
        this.mname = mname;
        this.WBalance = bal;
        JLabelBal.setText("BALANCE:Php"+this.WBalance);
        txtName.setText(""+this.accountno+":"+this.fname.toUpperCase()+" "+this.lname.toUpperCase()+" "+this.mname.toUpperCase());
 }
  void mySqlDriver(){
       String pass = "";
       String username  = "root";
       String url = "jdbc:mysql://localhost/bank";
       String driver = "com.mysql.cj.jdbc.Driver";
       
       try {
           Class.forName(driver);
           con = DriverManager.getConnection(url,username,pass);
       }catch (ClassNotFoundException | SQLException e ) {
           JOptionPane.showMessageDialog(null, e);
       }
   }// sql
        /**
     * 
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jButton3 = new JButton();
        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        txtDeposit = new JTextField();
        txtUpbalance = new JTextField();
        jLabel2 = new JLabel();
        jLabel3 = new JLabel();
        txtName = new JTextField();
        JLabelBal = new JLabel();
        jLabel1 = new JLabel();
        btnConfirm = new JButton();
        btnExit = new JButton();

        jButton3.setBackground(new Color(255, 51, 0));
        jButton3.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jButton3.setForeground(new Color(255, 204, 51));
        jButton3.setText("CONFIRM");

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        setTitle("DEPOSIT");
        setResizable(false);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(204, 0, 0), new Color(0, 0, 0)));

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(BorderFactory.createLineBorder(new Color(255, 51, 0)));
        jPanel2.setForeground(new Color(255, 51, 0));

        txtDeposit.setBackground(new Color(255, 51, 0));
        txtDeposit.setForeground(new Color(255, 204, 102));

        txtUpbalance.setEditable(false);
        txtUpbalance.setBackground(new Color(255, 51, 0));
        txtUpbalance.setForeground(new Color(255, 204, 102));
        txtUpbalance.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtUpbalanceActionPerformed(evt);
            }
        });

        jLabel2.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel2.setForeground(new Color(255, 51, 0));
        jLabel2.setText("CURRENT BALANCE :");

        jLabel3.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel3.setForeground(new Color(255, 51, 0));
        jLabel3.setText("AMOUNT DEPOSIT:");

        txtName.setEditable(false);
        txtName.setBackground(new Color(255, 204, 51));
        txtName.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        txtName.setForeground(new Color(255, 51, 0));

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel2, GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel3, GroupLayout.Alignment.TRAILING))
                .addGap(30, 30, 30)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(txtUpbalance, GroupLayout.PREFERRED_SIZE, 170, GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtDeposit, GroupLayout.PREFERRED_SIZE, 170, GroupLayout.PREFERRED_SIZE))
                .addGap(28, 28, 28))
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(28, 28, 28)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                    .addComponent(JLabelBal, GroupLayout.PREFERRED_SIZE, 153, GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 338, GroupLayout.PREFERRED_SIZE))
                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 47, GroupLayout.PREFERRED_SIZE)
                .addGap(12, 12, 12)
                .addComponent(JLabelBal, GroupLayout.DEFAULT_SIZE, 22, Short.MAX_VALUE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel3, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(txtDeposit))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel2)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(txtUpbalance)
                        .addGap(1, 1, 1)))
                .addGap(19, 19, 19))
        );

        jLabel1.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jLabel1.setForeground(new Color(255, 51, 0));
        jLabel1.setText("LESS THAN 10,000 OR GREATER THAN INITIAL DEPOSIT");

        btnConfirm.setBackground(new Color(255, 51, 0));
        btnConfirm.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnConfirm.setForeground(new Color(255, 204, 51));
        btnConfirm.setText("CONFIRM");
        btnConfirm.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnConfirmActionPerformed(evt);
            }
        });

        btnExit.setBackground(new Color(255, 51, 0));
        btnExit.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnExit.setForeground(new Color(255, 204, 51));
        btnExit.setText("BACK");
        btnExit.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnExitActionPerformed(evt);
            }
        });

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel1)
                        .addGap(10, 10, 10))
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(btnExit, GroupLayout.PREFERRED_SIZE, 82, GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(btnConfirm))
                            .addComponent(jPanel2, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(22, 22, 22))))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addComponent(jLabel1)
                .addGap(18, 18, 18)
                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(btnConfirm)
                    .addComponent(btnExit))
                .addContainerGap(9, Short.MAX_VALUE))
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.Alignment.TRAILING, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>                        

    private void txtUpbalanceActionPerformed(ActionEvent evt) {                                             
        // TODO add your handling code here:

    }                                            

    private void btnConfirmActionPerformed(ActionEvent evt) {                                           
        deposit = Integer.parseInt(txtDeposit.getText());
       
            this.WBalance = this.WBalance + deposit;
            txtUpbalance.setText("Php "+this.WBalance);
            JOptionPane.showMessageDialog(null, "Deposit Success");
            try  {
                pst = con.prepareStatement("Update userinfo set balance =? where accountno = ?");
                pst.setInt(1,this.WBalance);
                pst.setInt(2,this.accountno );
                pst.executeUpdate();
            }catch(SQLException e){

                JOptionPane.showMessageDialog(null,e.getMessage());
            }

       

    }                                          

    private void btnExitActionPerformed(ActionEvent evt) {                                        
        Mainmenu mn = new Mainmenu ();
        mn.zipper(this.accountno,this.pin, this.fname, this.lname, this.mname, this.WBalance,this.type);
        mn.setVisible(true);
        setVisible(false);
    }                                       

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Deposit.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Deposit.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Deposit.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Deposit.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Deposit().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private JLabel JLabelBal;
    private JButton btnConfirm;
    private JButton btnExit;
    private JButton jButton3;
    private JLabel jLabel1;
    private JLabel jLabel2;
    private JLabel jLabel3;
    private JPanel jPanel1;
    private JPanel jPanel2;
    private JTextField txtDeposit;
    private JTextField txtName;
    private JTextField txtUpbalance;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Choice;
import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.BorderFactory;
import javax.swing.DefaultComboBoxModel;
import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;

/**
 *
 * @author GADGETCORE
 */
public class Paybills extends javax.swing.JFrame {
PreparedStatement pst;
ResultSet res;
Connection con;
String company;
int WBalance,pin,accountno,paybills;
String account,pinn,fname,lname,mname,wbalance,type = "Paybills";
    /**
     * Creates new form Paybills
     */
    public Paybills() {
        initComponents();
       setLocationRelativeTo(null);
        mySqlDriver();
        bill();
    }
    void Zahandu(int account,int pin ,String fname ,String lname,String mname, int bal){
        this.accountno = account ; 
        this.pin = pin;
        this.fname = fname;
        this.lname  = lname;
        this.mname = mname;
        this.WBalance = bal;
        JLabelBal.setText("BALANCE:Php"+this.WBalance);
        txtName.setText(""+this.accountno+":"+this.fname.toUpperCase()+" "+this.lname.toUpperCase()+" "+this.mname.toUpperCase());
    }
     void bill (){
        
         cbobill.addItem("Rent");
         cbobill.addItem("Electricity");
         cbobill.addItem("Water");
          cbobill.addItem("Sewer");
         cbobill.addItem("Subscription");
         cbobill.addItem("Gas");
          cbobill.addItem("Loan");
      
     }
      void mySqlDriver(){
       String pass = "";
       String username  = "root";
       String url = "jdbc:mysql://localhost/bank";
       String driver = "com.mysql.cj.jdbc.Driver";
       
       try {
           Class.forName(driver);
           con = DriverManager.getConnection(url,username,pass);
       }catch (ClassNotFoundException | SQLException e ) {
           JOptionPane.showMessageDialog(null, e);
       }
   }// sql

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        choice1 = new Choice();
        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        txtName = new JTextField();
        jLabel2 = new JLabel();
        jLabel3 = new JLabel();
        txtpay = new JTextField();
        txtUpbalance = new JTextField();
        jLabel4 = new JLabel();
        txtCompany = new JTextField();
        cbobill = new JComboBox<>();
        jLabel5 = new JLabel();
        JLabelBal = new JLabel();
        btnConfirm = new JButton();
        jButton3 = new JButton();
        btnBack = new JButton();
        jLabel1 = new JLabel();

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        setTitle("PAYBILLS");
        setResizable(false);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(204, 0, 0), new Color(0, 0, 0)));

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(BorderFactory.createLineBorder(new Color(255, 51, 0)));

        txtName.setEditable(false);
        txtName.setBackground(new Color(255, 204, 51));
        txtName.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        txtName.setForeground(new Color(255, 51, 0));

        jLabel2.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel2.setForeground(new Color(255, 51, 0));
        jLabel2.setText("CURRENT BALANCE ");

        jLabel3.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel3.setForeground(new Color(255, 51, 0));
        jLabel3.setText("AMOUNT PAY");

        txtpay.setBackground(new Color(255, 51, 0));
        txtpay.setForeground(new Color(255, 204, 102));

        txtUpbalance.setEditable(false);
        txtUpbalance.setBackground(new Color(255, 51, 0));
        txtUpbalance.setForeground(new Color(255, 204, 102));
        txtUpbalance.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtUpbalanceActionPerformed(evt);
            }
        });

        jLabel4.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel4.setForeground(new Color(255, 51, 0));
        jLabel4.setText("COMPANY NAME");

        txtCompany.setBackground(new Color(255, 51, 0));
        txtCompany.setForeground(new Color(255, 204, 102));
        txtCompany.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtCompanyActionPerformed(evt);
            }
        });

        cbobill.setBackground(new Color(255, 51, 0));
        cbobill.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        cbobill.setForeground(new Color(255, 204, 51));
        cbobill.setSelectedItem(cbobill);

        jLabel5.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel5.setForeground(new Color(255, 51, 0));
        jLabel5.setText("TYPE OF BILLS");

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(txtpay, GroupLayout.PREFERRED_SIZE, 136, GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addGap(26, 26, 26)
                                .addComponent(jLabel3)))
                        .addGap(44, 44, 44)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel2)
                            .addComponent(txtUpbalance, GroupLayout.PREFERRED_SIZE, 132, GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(16, 16, 16)
                        .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 318, GroupLayout.PREFERRED_SIZE))
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(cbobill, GroupLayout.PREFERRED_SIZE, 126, GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel5))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(txtCompany, GroupLayout.PREFERRED_SIZE, 133, GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel4))
                        .addGap(5, 5, 5)))
                .addContainerGap(15, Short.MAX_VALUE))
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(JLabelBal, GroupLayout.PREFERRED_SIZE, 153, GroupLayout.PREFERRED_SIZE)
                .addGap(96, 96, 96))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 48, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(jLabel5))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(cbobill, GroupLayout.DEFAULT_SIZE, 29, Short.MAX_VALUE)
                    .addComponent(txtCompany))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(jLabel2))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtUpbalance, GroupLayout.DEFAULT_SIZE, 28, Short.MAX_VALUE)
                    .addComponent(txtpay))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(JLabelBal, GroupLayout.DEFAULT_SIZE, 22, Short.MAX_VALUE)
                .addGap(12, 12, 12))
        );

        btnConfirm.setBackground(new Color(255, 51, 0));
        btnConfirm.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnConfirm.setForeground(new Color(255, 204, 51));
        btnConfirm.setText("CONFIRM");
        btnConfirm.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnConfirmActionPerformed(evt);
            }
        });

        jButton3.setBackground(new Color(255, 51, 0));
        jButton3.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jButton3.setForeground(new Color(255, 204, 51));
        jButton3.setText("CONFIRM");

        btnBack.setBackground(new Color(255, 51, 0));
        btnBack.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnBack.setForeground(new Color(255, 204, 51));
        btnBack.setText("BACK");
        btnBack.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnBackActionPerformed(evt);
            }
        });

        jLabel1.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jLabel1.setForeground(new Color(255, 51, 0));
        jLabel1.setText("LESS THAN EXIST BALANCE");

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1)
                    .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
                        .addGroup(jPanel1Layout.createSequentialGroup()
                            .addComponent(btnBack)
                            .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(btnConfirm))
                        .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(22, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(0, 0, Short.MAX_VALUE)
                    .addComponent(jButton3)
                    .addGap(0, 0, Short.MAX_VALUE)))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(7, 7, 7)
                .addComponent(jLabel1)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(btnConfirm)
                    .addComponent(btnBack))
                .addContainerGap())
            .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(0, 150, Short.MAX_VALUE)
                    .addComponent(jButton3)
                    .addGap(0, 150, Short.MAX_VALUE)))
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>                        

    private void txtUpbalanceActionPerformed(ActionEvent evt) {                                             
        // TODO add your handling code here:
    }                                            

    private void txtCompanyActionPerformed(ActionEvent evt) {                                           
        // TODO add your handling code here:
    }                                          

    private void btnBackActionPerformed(ActionEvent evt) {                                        
       Mainmenu mn = new Mainmenu ();
        mn.zipper(this.accountno,this.pin, this.fname, this.lname, this.mname, this.WBalance,this.type);
        mn.setVisible(true);
        setVisible(false);      
    }                                       

    private void btnConfirmActionPerformed(ActionEvent evt) {                                           
         paybills = Integer.parseInt(txtpay.getText());
       if(paybills<this.WBalance){
           this.WBalance = this.WBalance - paybills;
           txtUpbalance.setText("Php "+this.WBalance);
           JOptionPane.showMessageDialog(null, "Transaction Success");
           try  {
          pst = con.prepareStatement("Update userinfo set balance =? where accountno =?");
          pst.setInt(1,this.WBalance);
          pst.setInt(2,this.accountno );
          pst.executeUpdate();
           }catch(SQLException e){
               
                 JOptionPane.showMessageDialog(null,e.getMessage());
           }
           
       }else {
           
           JOptionPane.showMessageDialog(null,"less than Initial Balance");
           
       }
    }                                          

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Paybills().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private JLabel JLabelBal;
    private JButton btnBack;
    private JButton btnConfirm;
    private JComboBox<String> cbobill;
    private Choice choice1;
    private JButton jButton3;
    private JLabel jLabel1;
    private JLabel jLabel2;
    private JLabel jLabel3;
    private JLabel jLabel4;
    private JLabel jLabel5;
    private JPanel jPanel1;
    private JPanel jPanel2;
    private JTextField txtCompany;
    private JTextField txtName;
    private JTextField txtUpbalance;
    private JTextField txtpay;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Choice;
import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.BorderFactory;
import javax.swing.DefaultComboBoxModel;
import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;

/**
 *
 * @author GADGETCORE
 */
public class Paybills extends javax.swing.JFrame {
PreparedStatement pst;
ResultSet res;
Connection con;
String company;
int WBalance,pin,accountno,paybills;
String account,pinn,fname,lname,mname,wbalance,type = "Paybills";
    /**
     * Creates new form Paybills
     */
    public Paybills() {
        initComponents();
       setLocationRelativeTo(null);
        mySqlDriver();
        bill();
    }
    void Zahandu(int account,int pin ,String fname ,String lname,String mname, int bal){
        this.accountno = account ; 
        this.pin = pin;
        this.fname = fname;
        this.lname  = lname;
        this.mname = mname;
        this.WBalance = bal;
        JLabelBal.setText("BALANCE:Php"+this.WBalance);
        txtName.setText(""+this.accountno+":"+this.fname.toUpperCase()+" "+this.lname.toUpperCase()+" "+this.mname.toUpperCase());
    }
     void bill (){
        
         cbobill.addItem("Rent");
         cbobill.addItem("Electricity");
         cbobill.addItem("Water");
          cbobill.addItem("Sewer");
         cbobill.addItem("Subscription");
         cbobill.addItem("Gas");
          cbobill.addItem("Loan");
      
     }
      void mySqlDriver(){
       String pass = "";
       String username  = "root";
       String url = "jdbc:mysql://localhost/bank";
       String driver = "com.mysql.cj.jdbc.Driver";
       
       try {
           Class.forName(driver);
           con = DriverManager.getConnection(url,username,pass);
       }catch (ClassNotFoundException | SQLException e ) {
           JOptionPane.showMessageDialog(null, e);
       }
   }// sql

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        choice1 = new Choice();
        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        txtName = new JTextField();
        jLabel2 = new JLabel();
        jLabel3 = new JLabel();
        txtpay = new JTextField();
        txtUpbalance = new JTextField();
        jLabel4 = new JLabel();
        txtCompany = new JTextField();
        cbobill = new JComboBox<>();
        jLabel5 = new JLabel();
        JLabelBal = new JLabel();
        btnConfirm = new JButton();
        jButton3 = new JButton();
        btnBack = new JButton();
        jLabel1 = new JLabel();

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        setTitle("PAYBILLS");
        setResizable(false);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(204, 0, 0), new Color(0, 0, 0)));

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(BorderFactory.createLineBorder(new Color(255, 51, 0)));

        txtName.setEditable(false);
        txtName.setBackground(new Color(255, 204, 51));
        txtName.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        txtName.setForeground(new Color(255, 51, 0));

        jLabel2.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel2.setForeground(new Color(255, 51, 0));
        jLabel2.setText("CURRENT BALANCE ");

        jLabel3.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel3.setForeground(new Color(255, 51, 0));
        jLabel3.setText("AMOUNT PAY");

        txtpay.setBackground(new Color(255, 51, 0));
        txtpay.setForeground(new Color(255, 204, 102));

        txtUpbalance.setEditable(false);
        txtUpbalance.setBackground(new Color(255, 51, 0));
        txtUpbalance.setForeground(new Color(255, 204, 102));
        txtUpbalance.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtUpbalanceActionPerformed(evt);
            }
        });

        jLabel4.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel4.setForeground(new Color(255, 51, 0));
        jLabel4.setText("COMPANY NAME");

        txtCompany.setBackground(new Color(255, 51, 0));
        txtCompany.setForeground(new Color(255, 204, 102));
        txtCompany.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtCompanyActionPerformed(evt);
            }
        });

        cbobill.setBackground(new Color(255, 51, 0));
        cbobill.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        cbobill.setForeground(new Color(255, 204, 51));
        cbobill.setSelectedItem(cbobill);

        jLabel5.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel5.setForeground(new Color(255, 51, 0));
        jLabel5.setText("TYPE OF BILLS");

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(txtpay, GroupLayout.PREFERRED_SIZE, 136, GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addGap(26, 26, 26)
                                .addComponent(jLabel3)))
                        .addGap(44, 44, 44)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel2)
                            .addComponent(txtUpbalance, GroupLayout.PREFERRED_SIZE, 132, GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(16, 16, 16)
                        .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 318, GroupLayout.PREFERRED_SIZE))
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(cbobill, GroupLayout.PREFERRED_SIZE, 126, GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel5))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(txtCompany, GroupLayout.PREFERRED_SIZE, 133, GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel4))
                        .addGap(5, 5, 5)))
                .addContainerGap(15, Short.MAX_VALUE))
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(JLabelBal, GroupLayout.PREFERRED_SIZE, 153, GroupLayout.PREFERRED_SIZE)
                .addGap(96, 96, 96))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 48, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(jLabel5))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(cbobill, GroupLayout.DEFAULT_SIZE, 29, Short.MAX_VALUE)
                    .addComponent(txtCompany))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(jLabel2))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtUpbalance, GroupLayout.DEFAULT_SIZE, 28, Short.MAX_VALUE)
                    .addComponent(txtpay))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(JLabelBal, GroupLayout.DEFAULT_SIZE, 22, Short.MAX_VALUE)
                .addGap(12, 12, 12))
        );

        btnConfirm.setBackground(new Color(255, 51, 0));
        btnConfirm.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnConfirm.setForeground(new Color(255, 204, 51));
        btnConfirm.setText("CONFIRM");
        btnConfirm.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnConfirmActionPerformed(evt);
            }
        });

        jButton3.setBackground(new Color(255, 51, 0));
        jButton3.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jButton3.setForeground(new Color(255, 204, 51));
        jButton3.setText("CONFIRM");

        btnBack.setBackground(new Color(255, 51, 0));
        btnBack.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnBack.setForeground(new Color(255, 204, 51));
        btnBack.setText("BACK");
        btnBack.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnBackActionPerformed(evt);
            }
        });

        jLabel1.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jLabel1.setForeground(new Color(255, 51, 0));
        jLabel1.setText("LESS THAN EXIST BALANCE");

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1)
                    .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
                        .addGroup(jPanel1Layout.createSequentialGroup()
                            .addComponent(btnBack)
                            .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(btnConfirm))
                        .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(22, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(0, 0, Short.MAX_VALUE)
                    .addComponent(jButton3)
                    .addGap(0, 0, Short.MAX_VALUE)))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(7, 7, 7)
                .addComponent(jLabel1)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(btnConfirm)
                    .addComponent(btnBack))
                .addContainerGap())
            .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(0, 150, Short.MAX_VALUE)
                    .addComponent(jButton3)
                    .addGap(0, 150, Short.MAX_VALUE)))
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>                        

    private void txtUpbalanceActionPerformed(ActionEvent evt) {                                             
        // TODO add your handling code here:
    }                                            

    private void txtCompanyActionPerformed(ActionEvent evt) {                                           
        // TODO add your handling code here:
    }                                          

    private void btnBackActionPerformed(ActionEvent evt) {                                        
       Mainmenu mn = new Mainmenu ();
        mn.zipper(this.accountno,this.pin, this.fname, this.lname, this.mname, this.WBalance,this.type);
        mn.setVisible(true);
        setVisible(false);      
    }                                       

    private void btnConfirmActionPerformed(ActionEvent evt) {                                           
         paybills = Integer.parseInt(txtpay.getText());
       if(paybills<this.WBalance){
           this.WBalance = this.WBalance - paybills;
           txtUpbalance.setText("Php "+this.WBalance);
           JOptionPane.showMessageDialog(null, "Transaction Success");
           try  {
          pst = con.prepareStatement("Update userinfo set balance =? where accountno =?");
          pst.setInt(1,this.WBalance);
          pst.setInt(2,this.accountno );
          pst.executeUpdate();
           }catch(SQLException e){
               
                 JOptionPane.showMessageDialog(null,e.getMessage());
           }
           
       }else {
           
           JOptionPane.showMessageDialog(null,"less than Initial Balance");
           
       }
    }                                          

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Paybills().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private JLabel JLabelBal;
    private JButton btnBack;
    private JButton btnConfirm;
    private JComboBox<String> cbobill;
    private Choice choice1;
    private JButton jButton3;
    private JLabel jLabel1;
    private JLabel jLabel2;
    private JLabel jLabel3;
    private JLabel jLabel4;
    private JLabel jLabel5;
    private JPanel jPanel1;
    private JPanel jPanel2;
    private JTextField txtCompany;
    private JTextField txtName;
    private JTextField txtUpbalance;
    private JTextField txtpay;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Choice;
import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.BorderFactory;
import javax.swing.DefaultComboBoxModel;
import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;

/**
 *
 * @author GADGETCORE
 */
public class Paybills extends javax.swing.JFrame {
PreparedStatement pst;
ResultSet res;
Connection con;
String company;
int WBalance,pin,accountno,paybills;
String account,pinn,fname,lname,mname,wbalance,type = "Paybills";
    /**
     * Creates new form Paybills
     */
    public Paybills() {
        initComponents();
       setLocationRelativeTo(null);
        mySqlDriver();
        bill();
    }
    void Zahandu(int account,int pin ,String fname ,String lname,String mname, int bal){
        this.accountno = account ; 
        this.pin = pin;
        this.fname = fname;
        this.lname  = lname;
        this.mname = mname;
        this.WBalance = bal;
        JLabelBal.setText("BALANCE:Php"+this.WBalance);
        txtName.setText(""+this.accountno+":"+this.fname.toUpperCase()+" "+this.lname.toUpperCase()+" "+this.mname.toUpperCase());
    }
     void bill (){
        
         cbobill.addItem("Rent");
         cbobill.addItem("Electricity");
         cbobill.addItem("Water");
          cbobill.addItem("Sewer");
         cbobill.addItem("Subscription");
         cbobill.addItem("Gas");
          cbobill.addItem("Loan");
      
     }
      void mySqlDriver(){
       String pass = "";
       String username  = "root";
       String url = "jdbc:mysql://localhost/bank";
       String driver = "com.mysql.cj.jdbc.Driver";
       
       try {
           Class.forName(driver);
           con = DriverManager.getConnection(url,username,pass);
       }catch (ClassNotFoundException | SQLException e ) {
           JOptionPane.showMessageDialog(null, e);
       }
   }// sql

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        choice1 = new Choice();
        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        txtName = new JTextField();
        jLabel2 = new JLabel();
        jLabel3 = new JLabel();
        txtpay = new JTextField();
        txtUpbalance = new JTextField();
        jLabel4 = new JLabel();
        txtCompany = new JTextField();
        cbobill = new JComboBox<>();
        jLabel5 = new JLabel();
        JLabelBal = new JLabel();
        btnConfirm = new JButton();
        jButton3 = new JButton();
        btnBack = new JButton();
        jLabel1 = new JLabel();

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        setTitle("PAYBILLS");
        setResizable(false);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(204, 0, 0), new Color(0, 0, 0)));

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(BorderFactory.createLineBorder(new Color(255, 51, 0)));

        txtName.setEditable(false);
        txtName.setBackground(new Color(255, 204, 51));
        txtName.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        txtName.setForeground(new Color(255, 51, 0));

        jLabel2.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel2.setForeground(new Color(255, 51, 0));
        jLabel2.setText("CURRENT BALANCE ");

        jLabel3.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel3.setForeground(new Color(255, 51, 0));
        jLabel3.setText("AMOUNT PAY");

        txtpay.setBackground(new Color(255, 51, 0));
        txtpay.setForeground(new Color(255, 204, 102));

        txtUpbalance.setEditable(false);
        txtUpbalance.setBackground(new Color(255, 51, 0));
        txtUpbalance.setForeground(new Color(255, 204, 102));
        txtUpbalance.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtUpbalanceActionPerformed(evt);
            }
        });

        jLabel4.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel4.setForeground(new Color(255, 51, 0));
        jLabel4.setText("COMPANY NAME");

        txtCompany.setBackground(new Color(255, 51, 0));
        txtCompany.setForeground(new Color(255, 204, 102));
        txtCompany.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtCompanyActionPerformed(evt);
            }
        });

        cbobill.setBackground(new Color(255, 51, 0));
        cbobill.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        cbobill.setForeground(new Color(255, 204, 51));
        cbobill.setSelectedItem(cbobill);

        jLabel5.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel5.setForeground(new Color(255, 51, 0));
        jLabel5.setText("TYPE OF BILLS");

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(txtpay, GroupLayout.PREFERRED_SIZE, 136, GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addGap(26, 26, 26)
                                .addComponent(jLabel3)))
                        .addGap(44, 44, 44)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel2)
                            .addComponent(txtUpbalance, GroupLayout.PREFERRED_SIZE, 132, GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(16, 16, 16)
                        .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 318, GroupLayout.PREFERRED_SIZE))
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(cbobill, GroupLayout.PREFERRED_SIZE, 126, GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel5))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(txtCompany, GroupLayout.PREFERRED_SIZE, 133, GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel4))
                        .addGap(5, 5, 5)))
                .addContainerGap(15, Short.MAX_VALUE))
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(JLabelBal, GroupLayout.PREFERRED_SIZE, 153, GroupLayout.PREFERRED_SIZE)
                .addGap(96, 96, 96))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 48, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(jLabel5))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(cbobill, GroupLayout.DEFAULT_SIZE, 29, Short.MAX_VALUE)
                    .addComponent(txtCompany))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(jLabel2))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtUpbalance, GroupLayout.DEFAULT_SIZE, 28, Short.MAX_VALUE)
                    .addComponent(txtpay))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(JLabelBal, GroupLayout.DEFAULT_SIZE, 22, Short.MAX_VALUE)
                .addGap(12, 12, 12))
        );

        btnConfirm.setBackground(new Color(255, 51, 0));
        btnConfirm.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnConfirm.setForeground(new Color(255, 204, 51));
        btnConfirm.setText("CONFIRM");
        btnConfirm.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnConfirmActionPerformed(evt);
            }
        });

        jButton3.setBackground(new Color(255, 51, 0));
        jButton3.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jButton3.setForeground(new Color(255, 204, 51));
        jButton3.setText("CONFIRM");

        btnBack.setBackground(new Color(255, 51, 0));
        btnBack.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnBack.setForeground(new Color(255, 204, 51));
        btnBack.setText("BACK");
        btnBack.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnBackActionPerformed(evt);
            }
        });

        jLabel1.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jLabel1.setForeground(new Color(255, 51, 0));
        jLabel1.setText("LESS THAN EXIST BALANCE");

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1)
                    .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
                        .addGroup(jPanel1Layout.createSequentialGroup()
                            .addComponent(btnBack)
                            .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(btnConfirm))
                        .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(22, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(0, 0, Short.MAX_VALUE)
                    .addComponent(jButton3)
                    .addGap(0, 0, Short.MAX_VALUE)))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(7, 7, 7)
                .addComponent(jLabel1)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(btnConfirm)
                    .addComponent(btnBack))
                .addContainerGap())
            .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(0, 150, Short.MAX_VALUE)
                    .addComponent(jButton3)
                    .addGap(0, 150, Short.MAX_VALUE)))
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>                        

    private void txtUpbalanceActionPerformed(ActionEvent evt) {                                             
        // TODO add your handling code here:
    }                                            

    private void txtCompanyActionPerformed(ActionEvent evt) {                                           
        // TODO add your handling code here:
    }                                          

    private void btnBackActionPerformed(ActionEvent evt) {                                        
       Mainmenu mn = new Mainmenu ();
        mn.zipper(this.accountno,this.pin, this.fname, this.lname, this.mname, this.WBalance,this.type);
        mn.setVisible(true);
        setVisible(false);      
    }                                       

    private void btnConfirmActionPerformed(ActionEvent evt) {                                           
         paybills = Integer.parseInt(txtpay.getText());
       if(paybills<this.WBalance){
           this.WBalance = this.WBalance - paybills;
           txtUpbalance.setText("Php "+this.WBalance);
           JOptionPane.showMessageDialog(null, "Transaction Success");
           try  {
          pst = con.prepareStatement("Update userinfo set balance =? where accountno =?");
          pst.setInt(1,this.WBalance);
          pst.setInt(2,this.accountno );
          pst.executeUpdate();
           }catch(SQLException e){
               
                 JOptionPane.showMessageDialog(null,e.getMessage());
           }
           
       }else {
           
           JOptionPane.showMessageDialog(null,"less than Initial Balance");
           
       }
    }                                          

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Paybills().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private JLabel JLabelBal;
    private JButton btnBack;
    private JButton btnConfirm;
    private JComboBox<String> cbobill;
    private Choice choice1;
    private JButton jButton3;
    private JLabel jLabel1;
    private JLabel jLabel2;
    private JLabel jLabel3;
    private JLabel jLabel4;
    private JLabel jLabel5;
    private JPanel jPanel1;
    private JPanel jPanel2;
    private JTextField txtCompany;
    private JTextField txtName;
    private JTextField txtUpbalance;
    private JTextField txtpay;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Choice;
import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.BorderFactory;
import javax.swing.DefaultComboBoxModel;
import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;

/**
 *
 * @author GADGETCORE
 */
public class Paybills extends javax.swing.JFrame {
PreparedStatement pst;
ResultSet res;
Connection con;
String company;
int WBalance,pin,accountno,paybills;
String account,pinn,fname,lname,mname,wbalance,type = "Paybills";
    /**
     * Creates new form Paybills
     */
    public Paybills() {
        initComponents();
       setLocationRelativeTo(null);
        mySqlDriver();
        bill();
    }
    void Zahandu(int account,int pin ,String fname ,String lname,String mname, int bal){
        this.accountno = account ; 
        this.pin = pin;
        this.fname = fname;
        this.lname  = lname;
        this.mname = mname;
        this.WBalance = bal;
        JLabelBal.setText("BALANCE:Php"+this.WBalance);
        txtName.setText(""+this.accountno+":"+this.fname.toUpperCase()+" "+this.lname.toUpperCase()+" "+this.mname.toUpperCase());
    }
     void bill (){
        
         cbobill.addItem("Rent");
         cbobill.addItem("Electricity");
         cbobill.addItem("Water");
          cbobill.addItem("Sewer");
         cbobill.addItem("Subscription");
         cbobill.addItem("Gas");
          cbobill.addItem("Loan");
      
     }
      void mySqlDriver(){
       String pass = "";
       String username  = "root";
       String url = "jdbc:mysql://localhost/bank";
       String driver = "com.mysql.cj.jdbc.Driver";
       
       try {
           Class.forName(driver);
           con = DriverManager.getConnection(url,username,pass);
       }catch (ClassNotFoundException | SQLException e ) {
           JOptionPane.showMessageDialog(null, e);
       }
   }// sql

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        choice1 = new Choice();
        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        txtName = new JTextField();
        jLabel2 = new JLabel();
        jLabel3 = new JLabel();
        txtpay = new JTextField();
        txtUpbalance = new JTextField();
        jLabel4 = new JLabel();
        txtCompany = new JTextField();
        cbobill = new JComboBox<>();
        jLabel5 = new JLabel();
        JLabelBal = new JLabel();
        btnConfirm = new JButton();
        jButton3 = new JButton();
        btnBack = new JButton();
        jLabel1 = new JLabel();

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        setTitle("PAYBILLS");
        setResizable(false);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(204, 0, 0), new Color(0, 0, 0)));

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(BorderFactory.createLineBorder(new Color(255, 51, 0)));

        txtName.setEditable(false);
        txtName.setBackground(new Color(255, 204, 51));
        txtName.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        txtName.setForeground(new Color(255, 51, 0));

        jLabel2.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel2.setForeground(new Color(255, 51, 0));
        jLabel2.setText("CURRENT BALANCE ");

        jLabel3.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel3.setForeground(new Color(255, 51, 0));
        jLabel3.setText("AMOUNT PAY");

        txtpay.setBackground(new Color(255, 51, 0));
        txtpay.setForeground(new Color(255, 204, 102));

        txtUpbalance.setEditable(false);
        txtUpbalance.setBackground(new Color(255, 51, 0));
        txtUpbalance.setForeground(new Color(255, 204, 102));
        txtUpbalance.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtUpbalanceActionPerformed(evt);
            }
        });

        jLabel4.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel4.setForeground(new Color(255, 51, 0));
        jLabel4.setText("COMPANY NAME");

        txtCompany.setBackground(new Color(255, 51, 0));
        txtCompany.setForeground(new Color(255, 204, 102));
        txtCompany.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtCompanyActionPerformed(evt);
            }
        });

        cbobill.setBackground(new Color(255, 51, 0));
        cbobill.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        cbobill.setForeground(new Color(255, 204, 51));
        cbobill.setSelectedItem(cbobill);

        jLabel5.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel5.setForeground(new Color(255, 51, 0));
        jLabel5.setText("TYPE OF BILLS");

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(txtpay, GroupLayout.PREFERRED_SIZE, 136, GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addGap(26, 26, 26)
                                .addComponent(jLabel3)))
                        .addGap(44, 44, 44)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel2)
                            .addComponent(txtUpbalance, GroupLayout.PREFERRED_SIZE, 132, GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(16, 16, 16)
                        .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 318, GroupLayout.PREFERRED_SIZE))
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(cbobill, GroupLayout.PREFERRED_SIZE, 126, GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel5))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(txtCompany, GroupLayout.PREFERRED_SIZE, 133, GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel4))
                        .addGap(5, 5, 5)))
                .addContainerGap(15, Short.MAX_VALUE))
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(JLabelBal, GroupLayout.PREFERRED_SIZE, 153, GroupLayout.PREFERRED_SIZE)
                .addGap(96, 96, 96))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 48, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(jLabel5))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(cbobill, GroupLayout.DEFAULT_SIZE, 29, Short.MAX_VALUE)
                    .addComponent(txtCompany))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(jLabel2))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtUpbalance, GroupLayout.DEFAULT_SIZE, 28, Short.MAX_VALUE)
                    .addComponent(txtpay))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(JLabelBal, GroupLayout.DEFAULT_SIZE, 22, Short.MAX_VALUE)
                .addGap(12, 12, 12))
        );

        btnConfirm.setBackground(new Color(255, 51, 0));
        btnConfirm.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnConfirm.setForeground(new Color(255, 204, 51));
        btnConfirm.setText("CONFIRM");
        btnConfirm.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnConfirmActionPerformed(evt);
            }
        });

        jButton3.setBackground(new Color(255, 51, 0));
        jButton3.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jButton3.setForeground(new Color(255, 204, 51));
        jButton3.setText("CONFIRM");

        btnBack.setBackground(new Color(255, 51, 0));
        btnBack.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnBack.setForeground(new Color(255, 204, 51));
        btnBack.setText("BACK");
        btnBack.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnBackActionPerformed(evt);
            }
        });

        jLabel1.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jLabel1.setForeground(new Color(255, 51, 0));
        jLabel1.setText("LESS THAN EXIST BALANCE");

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1)
                    .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
                        .addGroup(jPanel1Layout.createSequentialGroup()
                            .addComponent(btnBack)
                            .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(btnConfirm))
                        .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(22, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(0, 0, Short.MAX_VALUE)
                    .addComponent(jButton3)
                    .addGap(0, 0, Short.MAX_VALUE)))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(7, 7, 7)
                .addComponent(jLabel1)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(btnConfirm)
                    .addComponent(btnBack))
                .addContainerGap())
            .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(0, 150, Short.MAX_VALUE)
                    .addComponent(jButton3)
                    .addGap(0, 150, Short.MAX_VALUE)))
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>                        

    private void txtUpbalanceActionPerformed(ActionEvent evt) {                                             
        // TODO add your handling code here:
    }                                            

    private void txtCompanyActionPerformed(ActionEvent evt) {                                           
        // TODO add your handling code here:
    }                                          

    private void btnBackActionPerformed(ActionEvent evt) {                                        
       Mainmenu mn = new Mainmenu ();
        mn.zipper(this.accountno,this.pin, this.fname, this.lname, this.mname, this.WBalance,this.type);
        mn.setVisible(true);
        setVisible(false);      
    }                                       

    private void btnConfirmActionPerformed(ActionEvent evt) {                                           
         paybills = Integer.parseInt(txtpay.getText());
       if(paybills<this.WBalance){
           this.WBalance = this.WBalance - paybills;
           txtUpbalance.setText("Php "+this.WBalance);
           JOptionPane.showMessageDialog(null, "Transaction Success");
           try  {
          pst = con.prepareStatement("Update userinfo set balance =? where accountno =?");
          pst.setInt(1,this.WBalance);
          pst.setInt(2,this.accountno );
          pst.executeUpdate();
           }catch(SQLException e){
               
                 JOptionPane.showMessageDialog(null,e.getMessage());
           }
           
       }else {
           
           JOptionPane.showMessageDialog(null,"less than Initial Balance");
           
       }
    }                                          

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Paybills.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Paybills().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private JLabel JLabelBal;
    private JButton btnBack;
    private JButton btnConfirm;
    private JComboBox<String> cbobill;
    private Choice choice1;
    private JButton jButton3;
    private JLabel jLabel1;
    private JLabel jLabel2;
    private JLabel jLabel3;
    private JLabel jLabel4;
    private JLabel jLabel5;
    private JPanel jPanel1;
    private JPanel jPanel2;
    private JTextField txtCompany;
    private JTextField txtName;
    private JTextField txtUpbalance;
    private JTextField txtpay;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.sql.Statement;
import javax.swing.GroupLayout;
import javax.swing.WindowConstants;
import java.util.Random;
import javax.swing.BorderFactory;
import javax.swing.JButton;
import javax.swing.JInternalFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JPasswordField;
import javax.swing.JScrollPane;
import javax.swing.JTextField;
import javax.swing.JTextPane;
import javax.swing.JToggleButton;
import javax.swing.LayoutStyle;
import javax.swing.border.LineBorder;
/**
 *
 * @author GADGETCORE
 */
public class Register extends javax.swing.JFrame {
  Connection con;
  Statement st;
  int account;
  String lastname ,firstname,mid;
  int pin, balance;
  String pinn , bal;
  Random number = new Random ();
  
    /**
     * Creates new form Register
     */
    public Register() {
               
        initComponents();
        setLocationRelativeTo(null);
        mySqlDriver();
        
    }
      void mySqlDriver (){
         String pass = "";
       String username  = "root";
       String url = "jdbc:mysql://localhost/bank";
       String driver = "com.mysql.cj.jdbc.Driver";
       
       try {
           Class.forName(driver);
           con = DriverManager.getConnection(url,username,pass);
       }catch (ClassNotFoundException | SQLException e ) {
           JOptionPane.showMessageDialog(null, e);
       }
         
     }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jScrollPane1 = new JScrollPane();
        jTextPane1 = new JTextPane();
        jInternalFrame1 = new JInternalFrame();
        jPanel1 = new JPanel();
        btnBack = new JButton();
        jPanel2 = new JPanel();
        jLabel1 = new JLabel();
        jLabel2 = new JLabel();
        jLabel4 = new JLabel();
        jLabel7 = new JLabel();
        jLabel5 = new JLabel();
        jLabel3 = new JLabel();
        jLabel6 = new JLabel();
        txtAccountno = new JTextField();
        txtFirstname = new JTextField();
        txtMiddle = new JTextField();
        txtBalance = new JTextField();
        txtLastname = new JTextField();
        txtPin = new JPasswordField();
        jToggleButton1 = new JToggleButton();
        btnSave = new JButton();

        jScrollPane1.setViewportView(jTextPane1);

        jInternalFrame1.setVisible(true);

        GroupLayout jInternalFrame1Layout = new GroupLayout(jInternalFrame1.getContentPane());
        jInternalFrame1.getContentPane().setLayout(jInternalFrame1Layout);
        jInternalFrame1Layout.setHorizontalGroup(jInternalFrame1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );
        jInternalFrame1Layout.setVerticalGroup(jInternalFrame1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        setTitle("SIGN UP");
        setBackground(new Color(255, 0, 0));
        setResizable(false);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(153, 0, 0), new Color(0, 0, 0)));
        jPanel1.setForeground(new Color(204, 204, 204));
        jPanel1.setPreferredSize(new Dimension(450, 450));

        btnBack.setBackground(new Color(255, 51, 0));
        btnBack.setFont(new Font("Bernard MT Condensed", 0, 14)); // NOI18N
        btnBack.setForeground(new Color(255, 204, 51));
        btnBack.setText("Back");
        btnBack.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnBackActionPerformed(evt);
            }
        });

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(new LineBorder(new Color(255, 51, 0), 1, true));
        jPanel2.setForeground(new Color(255, 255, 102));

        jLabel1.setBackground(new Color(0, 0, 0));
        jLabel1.setFont(new Font("Bodoni MT Condensed", 1, 14)); // NOI18N
        jLabel1.setForeground(new Color(255, 51, 0));
        jLabel1.setText("Fill Up the following !!");

        jLabel2.setBackground(new Color(0, 0, 0));
        jLabel2.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel2.setForeground(new Color(0, 0, 0));
        jLabel2.setText("ACCOUNT NUMBER :");

        jLabel4.setBackground(new Color(0, 0, 0));
        jLabel4.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel4.setForeground(new Color(0, 0, 0));
        jLabel4.setText("LAST NAME :");

        jLabel7.setBackground(new Color(0, 0, 0));
        jLabel7.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel7.setForeground(new Color(0, 0, 0));
        jLabel7.setText("PIN NUMBER:");

        jLabel5.setBackground(new Color(0, 0, 0));
        jLabel5.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel5.setForeground(new Color(0, 0, 0));
        jLabel5.setText("MIDDLE INITIAL:");

        jLabel3.setBackground(new Color(0, 0, 0));
        jLabel3.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel3.setForeground(new Color(0, 0, 0));
        jLabel3.setText("FIRST NAME:");

        jLabel6.setBackground(new Color(0, 0, 0));
        jLabel6.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel6.setForeground(new Color(0, 0, 0));
        jLabel6.setText("INITIAL BALANCE:");

        txtAccountno.setBackground(new Color(255, 255, 102));
        txtAccountno.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txtAccountno.setForeground(new Color(255, 51, 0));

        txtFirstname.setBackground(new Color(255, 255, 102));
        txtFirstname.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txtFirstname.setForeground(new Color(255, 102, 0));

        txtMiddle.setBackground(new Color(255, 255, 102));
        txtMiddle.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txtMiddle.setForeground(new Color(255, 102, 0));

        txtBalance.setBackground(new Color(255, 255, 102));
        txtBalance.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txtBalance.setForeground(new Color(255, 102, 0));

        txtLastname.setBackground(new Color(255, 255, 102));
        txtLastname.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txtLastname.setForeground(new Color(255, 102, 0));

        txtPin.setBackground(new Color(255, 255, 102));
        txtPin.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        txtPin.setForeground(new Color(255, 102, 0));

        jToggleButton1.setBackground(new Color(255, 102, 0));
        jToggleButton1.setForeground(new Color(255, 204, 51));
        jToggleButton1.setText("jToggleButton1");
        jToggleButton1.setToolTipText("Click to generate Account Number");
        jToggleButton1.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                jToggleButton1ActionPerformed(evt);
            }
        });

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1, GroupLayout.PREFERRED_SIZE, 184, GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel3)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel2)
                            .addComponent(jLabel4)
                            .addComponent(jLabel5)
                            .addComponent(jLabel6)
                            .addComponent(jLabel7))
                        .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                                .addComponent(txtBalance, GroupLayout.DEFAULT_SIZE, 150, Short.MAX_VALUE)
                                .addComponent(txtMiddle, GroupLayout.DEFAULT_SIZE, 150, Short.MAX_VALUE)
                                .addComponent(txtFirstname, GroupLayout.DEFAULT_SIZE, 150, Short.MAX_VALUE)
                                .addComponent(txtLastname, GroupLayout.DEFAULT_SIZE, 150, Short.MAX_VALUE)
                                .addComponent(txtPin))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addComponent(txtAccountno, GroupLayout.PREFERRED_SIZE, 133, GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jToggleButton1, GroupLayout.PREFERRED_SIZE, 36, GroupLayout.PREFERRED_SIZE)))))
                .addContainerGap(22, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel1, GroupLayout.PREFERRED_SIZE, 41, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel2)
                    .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                        .addComponent(jToggleButton1)
                        .addComponent(txtAccountno, GroupLayout.PREFERRED_SIZE, 25, GroupLayout.PREFERRED_SIZE)))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(txtLastname, GroupLayout.PREFERRED_SIZE, 29, GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(txtFirstname, GroupLayout.PREFERRED_SIZE, 29, GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5)
                    .addComponent(txtMiddle, GroupLayout.PREFERRED_SIZE, 29, GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel7)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel6))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(txtPin)
                        .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txtBalance, GroupLayout.PREFERRED_SIZE, 29, GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(21, Short.MAX_VALUE))
        );

        btnSave.setBackground(new Color(255, 51, 0));
        btnSave.setFont(new Font("Bernard MT Condensed", 0, 14)); // NOI18N
        btnSave.setForeground(new Color(255, 204, 51));
        btnSave.setText("Save");
        btnSave.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnSaveActionPerformed(evt);
            }
        });

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(39, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(btnBack, GroupLayout.PREFERRED_SIZE, 84, GroupLayout.PREFERRED_SIZE)
                        .addGap(207, 207, 207)
                        .addComponent(btnSave, GroupLayout.PREFERRED_SIZE, 80, GroupLayout.PREFERRED_SIZE))
                    .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addGap(36, 36, 36))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(47, Short.MAX_VALUE)
                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(btnSave)
                    .addComponent(btnBack))
                .addGap(27, 27, 27))
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, 442, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>                        

    private void btnBackActionPerformed(ActionEvent evt) {                                        
        // TODO add your handling code here:
      setVisible(false);
      MainForm mf = new MainForm();
      mf.setVisible(true);
      
    }                                       

    private void btnSaveActionPerformed(ActionEvent evt) {                                        
        
        String text = txtAccountno.getText();
        account=Integer.parseInt(text);
        lastname = txtLastname.getText();
        firstname = txtFirstname.getText();
        mid  = txtMiddle.getText();
        pinn = txtPin.getText();  
        pin = Integer.parseInt(pinn);
        bal = txtBalance.getText();
        
       
        balance = Integer.parseInt("Php "+bal);
      
        
         try{
          
        st = con.createStatement();
        st.executeUpdate("INSERT INTO userinfo VALUES" +"("+account+",'"+lastname+"','"+firstname+"','"+mid+"',"+pin+","+balance+")");
        JOptionPane.showMessageDialog(null, "Save Success!!");
         int confirm = JOptionPane.showConfirmDialog(null, "Go to Transaction ","Confirm",JOptionPane.YES_NO_OPTION);
         if (confirm == 0){
             System.out.print( "Ok");
                Mainmenu mm = new Mainmenu();
                mm.setVisible(true);
                setVisible(false);
         }else{
              MainForm mf = new MainForm ();
              mf.setVisible(true);
              setVisible(false);
              
         }
         //st.close();
         //con.close();
        
        }catch(SQLException | NumberFormatException e){
            JOptionPane.showMessageDialog(null,e);
        }
          
       
    }                                       

    private void jToggleButton1ActionPerformed(ActionEvent evt) {                                               
         account = number.nextInt(8999999)+ 1000000;
        txtAccountno.setText(""+account);
        
    }                                              

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Register.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Register.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Register.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Register.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Register().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private JButton btnBack;
    private JButton btnSave;
    private JInternalFrame jInternalFrame1;
    private JLabel jLabel1;
    private JLabel jLabel2;
    private JLabel jLabel3;
    private JLabel jLabel4;
    private JLabel jLabel5;
    private JLabel jLabel6;
    private JLabel jLabel7;
    private JPanel jPanel1;
    private JPanel jPanel2;
    private JScrollPane jScrollPane1;
    private JTextPane jTextPane1;
    private JToggleButton jToggleButton1;
    private JTextField txtAccountno;
    private JTextField txtBalance;
    private JTextField txtFirstname;
    private JTextField txtLastname;
    private JTextField txtMiddle;
    private JPasswordField txtPin;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.Font;
import javax.swing.BorderFactory;
import javax.swing.GroupLayout;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JProgressBar;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;

/**
 *
 * @author GADGETCORE
 */
public class SplashLoading extends javax.swing.JFrame {

    /**
     * Creates new form SplashLoading
     */
    public SplashLoading() {
        initComponents();
        //splash();
        setLocationRelativeTo(null);
    }
        
 
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        jLabel1 = new JLabel();
        load = new JLabel();
        Loading = new JProgressBar();

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        setPreferredSize(new Dimension(450, 450));
        setResizable(false);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(204, 0, 0), new Color(0, 0, 0)));
        jPanel1.setPreferredSize(new Dimension(450, 450));
        jPanel1.setRequestFocusEnabled(false);

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(BorderFactory.createLineBorder(new Color(255, 51, 0)));
        jPanel2.setForeground(new Color(255, 51, 0));

        jLabel1.setFont(new Font("Book Antiqua", 1, 14)); // NOI18N
        jLabel1.setForeground(new Color(255, 51, 0));
        jLabel1.setText("WELCOME !!!");

        load.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        load.setForeground(new Color(255, 51, 0));
        load.setText("99");

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap(109, Short.MAX_VALUE)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addComponent(load)
                        .addGap(129, 129, 129))
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel1, GroupLayout.PREFERRED_SIZE, 178, GroupLayout.PREFERRED_SIZE)
                        .addGap(15, 15, 15))))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(load)
                .addContainerGap())
        );

        Loading.setBackground(new Color(255, 204, 102));
        Loading.setForeground(new Color(255, 51, 0));

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(62, 62, 62)
                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addContainerGap(66, Short.MAX_VALUE))
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(Loading, GroupLayout.PREFERRED_SIZE, 254, GroupLayout.PREFERRED_SIZE)
                .addGap(88, 88, 88))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(112, 112, 112)
                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(Loading, GroupLayout.PREFERRED_SIZE, 19, GroupLayout.PREFERRED_SIZE)
                .addContainerGap(131, Short.MAX_VALUE))
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, 436, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, 343, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>                        

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(SplashLoading.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(SplashLoading.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(SplashLoading.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(SplashLoading.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
       SplashLoading screen = new SplashLoading();
        screen.setVisible(true);
        try {
            for (int i = 0; i<=100; i++) {
                Thread.sleep(50);
                screen.load.setText(Integer.toString(i)+"%");
               screen.Loading.setValue(i);
               
            }
        } catch (Exception e) {
        }
        
    }

    // Variables declaration - do not modify                     
    public JProgressBar Loading;
    public JLabel jLabel1;
    public JPanel jPanel1;
    public JPanel jPanel2;
    public JLabel load;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.BorderFactory;
import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;

/**
 *
 * @author GADGETCORE
 */
public class TransferFund extends javax.swing.JFrame {
Connection con ;
PreparedStatement pst;
ResultSet res;
int WBalance,pin,accountno,paybills;
String account,pinn,fname,lname,mname,wbalance,type = "Transfer Fund";
    /**
     * Creates new form TransferFund
     */
    public TransferFund() {
        initComponents();
         mySqlDriver();
         setLocationRelativeTo(null);
          mySqlDriver();
    }
 void Zahandu(int account,int pin ,String fname ,String lname,String mname, int bal){
        this.accountno = account ; 
        this.pin = pin;
        this.fname = fname;
        this.lname  = lname;
        this.mname = mname;
        this.WBalance = bal;
        JLabelBal.setText("BALANCE:Php"+this.WBalance);
        txtName.setText(""+this.accountno+":"+this.fname.toUpperCase()+" "+this.lname.toUpperCase()+" "+this.mname.toUpperCase());
    }
  void mySqlDriver(){
       String pass = "";
       String username  = "root";
       String url = "jdbc:mysql://localhost/bank";
       String driver = "com.mysql.cj.jdbc.Driver";
       
       try {
           Class.forName(driver);
           con = DriverManager.getConnection(url,username,pass);
       }catch (ClassNotFoundException | SQLException e ) {
           JOptionPane.showMessageDialog(null, e);
       }
   }// sql
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        txtName = new JTextField();
        jLabel2 = new JLabel();
        jLabel3 = new JLabel();
        txtamt = new JTextField();
        txtUpbalance = new JTextField();
        jLabel4 = new JLabel();
        txtaccno = new JTextField();
        JLabelBal = new JLabel();
        btnConfirm = new JButton();
        btnBack = new JButton();
        jLabel1 = new JLabel();

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(204, 0, 0), new Color(0, 0, 0)));

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(BorderFactory.createLineBorder(new Color(255, 51, 0)));

        txtName.setEditable(false);
        txtName.setBackground(new Color(255, 204, 51));
        txtName.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        txtName.setForeground(new Color(255, 51, 0));

        jLabel2.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel2.setForeground(new Color(255, 51, 0));
        jLabel2.setText("CURRENT BALANCE :");

        jLabel3.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel3.setForeground(new Color(255, 51, 0));
        jLabel3.setText("AMOUNT TRANSFER:");

        txtamt.setBackground(new Color(255, 51, 0));
        txtamt.setForeground(new Color(255, 204, 102));

        txtUpbalance.setEditable(false);
        txtUpbalance.setBackground(new Color(255, 51, 0));
        txtUpbalance.setForeground(new Color(255, 204, 102));
        txtUpbalance.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtUpbalanceActionPerformed(evt);
            }
        });

        jLabel4.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel4.setForeground(new Color(255, 51, 0));
        jLabel4.setText("ACCOUN NO:");

        txtaccno.setBackground(new Color(255, 51, 0));
        txtaccno.setForeground(new Color(255, 204, 102));
        txtaccno.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtaccnoActionPerformed(evt);
            }
        });

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(16, 16, 16)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
                                .addComponent(txtName, GroupLayout.Alignment.LEADING)
                                .addGroup(GroupLayout.Alignment.LEADING, jPanel2Layout.createSequentialGroup()
                                    .addGap(67, 67, 67)
                                    .addComponent(jLabel4)
                                    .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                                    .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                        .addComponent(txtamt, GroupLayout.PREFERRED_SIZE, 133, GroupLayout.PREFERRED_SIZE)
                                        .addComponent(txtaccno, GroupLayout.PREFERRED_SIZE, 133, GroupLayout.PREFERRED_SIZE))))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addGap(6, 6, 6)
                                .addComponent(jLabel3))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addComponent(jLabel2)
                                .addGap(18, 18, 18)
                                .addComponent(txtUpbalance, GroupLayout.PREFERRED_SIZE, 132, GroupLayout.PREFERRED_SIZE))))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(91, 91, 91)
                        .addComponent(JLabelBal, GroupLayout.PREFERRED_SIZE, 153, GroupLayout.PREFERRED_SIZE)))
                .addGap(15, 15, 15))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 48, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(txtaccno, GroupLayout.PREFERRED_SIZE, 22, GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(txtamt, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel3)
                        .addGap(18, 18, 18)
                        .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel2)
                            .addComponent(txtUpbalance, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(JLabelBal, GroupLayout.DEFAULT_SIZE, 22, Short.MAX_VALUE)
                .addGap(7, 7, 7))
        );

        btnConfirm.setBackground(new Color(255, 51, 0));
        btnConfirm.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnConfirm.setForeground(new Color(255, 204, 51));
        btnConfirm.setText("CONFIRM");
        btnConfirm.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnConfirmActionPerformed(evt);
            }
        });

        btnBack.setBackground(new Color(255, 51, 0));
        btnBack.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnBack.setForeground(new Color(255, 204, 51));
        btnBack.setText("BACK");
        btnBack.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnBackActionPerformed(evt);
            }
        });

        jLabel1.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jLabel1.setForeground(new Color(255, 51, 0));
        jLabel1.setText("LESS THAN EXIST BALANCE");

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1)
                    .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
                        .addGroup(jPanel1Layout.createSequentialGroup()
                            .addComponent(btnBack)
                            .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(btnConfirm))
                        .addComponent(jPanel2, GroupLayout.Alignment.LEADING, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(32, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(7, 7, 7)
                .addComponent(jLabel1)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(btnConfirm)
                    .addComponent(btnBack))
                .addContainerGap())
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>                        

    private void txtUpbalanceActionPerformed(java.awt.event.ActionEvent evt) {                                             
        // TODO add your handling code here:
    }                                            

    private void txtaccnoActionPerformed(ActionEvent evt) {                                         
        // TODO add your handling code here:
    }                                        

    private void btnConfirmActionPerformed(ActionEvent evt) {                                           
        int transfer1 ;
        int accounno = Integer.parseInt(txtaccno.getText());
      
       int transfer = Integer.parseInt(txtamt.getText());
       if(transfer < this.WBalance){
           this.WBalance  =  this.WBalance - transfer;
            txtUpbalance.setText("Php "+this.WBalance);
         
           try  {
          pst = con.prepareStatement("Update userinfo set balance =? where accountno =?");
          pst.setInt(1,this.WBalance);
          pst.setInt(2,this.accountno );
          pst.executeUpdate();
           }catch(SQLException e){
               
                 JOptionPane.showMessageDialog(null,e.getMessage());
           }
            try  {
          pst = con.prepareStatement("Select * from userinfo where accountno=?");
          pst.setInt(1,accounno );
          res = pst.executeQuery();
           if (res.next()){
              
              transfer1  = Integer.parseInt(res.getString(6));
              transfer1 = transfer1 + transfer;
                try  {
          pst = con.prepareStatement("Update userinfo set balance =? where accountno =?");
          pst.setInt(1,transfer1);
          pst.setInt(2,accounno);
          pst.executeUpdate();
            JOptionPane.showMessageDialog(null, "Transfer Fund Success");
           }catch(SQLException e){
               
                 JOptionPane.showMessageDialog(null,e.getMessage());
           }
           }
           }catch(SQLException e){
               
                 JOptionPane.showMessageDialog(null,e.getMessage());
           }
       }else 
           JOptionPane.showMessageDialog(null, "Less than current Balance");
    }                                          

    private void btnBackActionPerformed(ActionEvent evt) {                                        
      Mainmenu mn = new Mainmenu ();
        mn.zipper(this.accountno,this.pin, this.fname, this.lname, this.mname, this.WBalance,this.type);
        mn.setVisible(true);
        setVisible(false);  
    }                                       

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(TransferFund.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(TransferFund.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(TransferFund.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(TransferFund.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new TransferFund().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private JLabel JLabelBal;
    private JButton btnBack;
    private JButton btnConfirm;
    private JLabel jLabel1;
    private JLabel jLabel2;
    private JLabel jLabel3;
    private JLabel jLabel4;
    private JPanel jPanel1;
    private JPanel jPanel2;
    private JTextField txtName;
    private JTextField txtUpbalance;
    private JTextField txtaccno;
    private JTextField txtamt;
    // End of variables declaration                   
}
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.banking_system;

import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import javax.swing.BorderFactory;
import javax.swing.GroupLayout;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.LayoutStyle;
import javax.swing.WindowConstants;

/**
 *
 * @author GADGETCORE
 */
public class Withdrawal extends javax.swing.JFrame {
  Connection con;
  PreparedStatement pst;
  ResultSet Res;
int WBalance,pin,accountno,withdraw;
String account,pinn,fname,lname,mname,wbalance,type = "Withdraw";
    /**
     * Creates new form Withdrawal
     */
    public Withdrawal() {
        initComponents();
        setLocationRelativeTo(null);
        mySqlDriver();
    }
    void Zahandu(int account,int pin ,String fname ,String lname,String mname, int bal){
        this.accountno = account ; 
        this.pin = pin;
        this.fname = fname;
        this.lname  = lname;
        this.mname = mname;
        this.WBalance = bal;
        JLabelBal.setText("BALANCE:Php"+this.WBalance);
        txtName.setText(""+this.accountno+":"+this.fname.toUpperCase()+" "+this.lname.toUpperCase()+" "+this.mname.toUpperCase());
    }
      void mySqlDriver(){
       String pass = "";
       String username  = "root";
       String url = "jdbc:mysql://localhost/bank";
       String driver = "com.mysql.cj.jdbc.Driver";
       
       try {
           Class.forName(driver);
           con = DriverManager.getConnection(url,username,pass);
       }catch (ClassNotFoundException | SQLException e ) {
           JOptionPane.showMessageDialog(null, e);
       }
   }// sql

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel1 = new JPanel();
        jPanel2 = new JPanel();
        txtAmount = new JTextField();
        txtWBalance = new JTextField();
        jLabel2 = new JLabel();
        jLabel3 = new JLabel();
        txtName = new JTextField();
        JLabelBal = new JLabel();
        jLabel1 = new JLabel();
        btnConfirm = new JButton();
        btnExit = new JButton();

        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        setTitle("WITHDRAWAL");
        setResizable(false);

        jPanel1.setBackground(new Color(255, 255, 153));
        jPanel1.setBorder(BorderFactory.createEtchedBorder(new Color(204, 0, 0), new Color(0, 0, 0)));

        jPanel2.setBackground(new Color(255, 204, 51));
        jPanel2.setBorder(BorderFactory.createLineBorder(new Color(255, 51, 0)));
        jPanel2.setForeground(new Color(255, 51, 0));

        txtAmount.setBackground(new Color(255, 51, 0));
        txtAmount.setForeground(new Color(255, 204, 102));

        txtWBalance.setEditable(false);
        txtWBalance.setBackground(new Color(255, 51, 0));
        txtWBalance.setForeground(new Color(255, 204, 102));
        txtWBalance.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                txtWBalanceActionPerformed(evt);
            }
        });

        jLabel2.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel2.setForeground(new Color(255, 51, 0));
        jLabel2.setText("CURRENT BALANCE :");

        jLabel3.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        jLabel3.setForeground(new Color(255, 51, 0));
        jLabel3.setText("AMOUNT WITHDRAW:");

        txtName.setEditable(false);
        txtName.setBackground(new Color(255, 204, 51));
        txtName.setFont(new Font("Bodoni MT Condensed", 1, 24)); // NOI18N
        txtName.setForeground(new Color(255, 51, 0));

        GroupLayout jPanel2Layout = new GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel2, GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel3, GroupLayout.Alignment.TRAILING))
                .addGap(30, 30, 30)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addComponent(txtWBalance, GroupLayout.PREFERRED_SIZE, 170, GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtAmount, GroupLayout.PREFERRED_SIZE, 170, GroupLayout.PREFERRED_SIZE))
                .addGap(28, 28, 28))
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(28, 28, 28)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                    .addComponent(JLabelBal, GroupLayout.PREFERRED_SIZE, 153, GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 338, GroupLayout.PREFERRED_SIZE))
                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtName, GroupLayout.PREFERRED_SIZE, 47, GroupLayout.PREFERRED_SIZE)
                .addGap(12, 12, 12)
                .addComponent(JLabelBal, GroupLayout.DEFAULT_SIZE, 22, Short.MAX_VALUE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel3, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(txtAmount))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel2)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(txtWBalance)
                        .addGap(1, 1, 1)))
                .addGap(19, 19, 19))
        );

        jLabel1.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        jLabel1.setForeground(new Color(255, 51, 0));
        jLabel1.setText("LESS THAN 10,000 OR GREATER THAN INITIAL DEPOSIT");

        btnConfirm.setBackground(new Color(255, 51, 0));
        btnConfirm.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnConfirm.setForeground(new Color(255, 204, 51));
        btnConfirm.setText("CONFIRM");
        btnConfirm.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnConfirmActionPerformed(evt);
            }
        });

        btnExit.setBackground(new Color(255, 51, 0));
        btnExit.setFont(new Font("Bodoni MT Condensed", 1, 18)); // NOI18N
        btnExit.setForeground(new Color(255, 204, 51));
        btnExit.setText("BACK");
        btnExit.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                btnExitActionPerformed(evt);
            }
        });

        GroupLayout jPanel1Layout = new GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel1)
                        .addGap(10, 10, 10))
                    .addGroup(GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(btnExit, GroupLayout.PREFERRED_SIZE, 82, GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(btnConfirm))
                            .addComponent(jPanel2, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(22, 22, 22))))
        );
        jPanel1Layout.setVerticalGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addComponent(jLabel1)
                .addGap(18, 18, 18)
                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                    .addComponent(btnConfirm)
                    .addComponent(btnExit))
                .addContainerGap(10, Short.MAX_VALUE))
        );

        GroupLayout layout = new GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, GroupLayout.Alignment.TRAILING, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>                        

    private void txtWBalanceActionPerformed(ActionEvent evt) {                                            
        // TODO add your handling code here:
        
        
    }                                           

    private void btnConfirmActionPerformed(ActionEvent evt) {                                           
       withdraw = Integer.parseInt(txtAmount.getText());
       if(withdraw<10000||withdraw>this.WBalance){
           this.WBalance = this.WBalance - withdraw;
           txtWBalance.setText("Php "+this.WBalance);
           JOptionPane.showMessageDialog(null, "Withdraw Success");
           try  {
          pst = con.prepareStatement("Update userinfo set balance =? where accountno =?");
          pst.setInt(1,this.WBalance);
          pst.setInt(2,this.accountno );
          pst.executeUpdate();
           }catch(SQLException e){
               
                 JOptionPane.showMessageDialog(null,e.getMessage());
           }
           
       }else {
           
           JOptionPane.showMessageDialog(null,"<10000 or >than Initial Balance");
           
       }
       
    }                                          

    private void btnExitActionPerformed(ActionEvent evt) {                                        
        Mainmenu mn = new Mainmenu ();
        mn.zipper(this.accountno,this.pin, this.fname, this.lname, this.mname, this.WBalance,this.type);
        mn.setVisible(true);
        setVisible(false);
    }                                       

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Withdrawal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Withdrawal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Withdrawal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Withdrawal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Withdrawal().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private JLabel JLabelBal;
    private JButton btnConfirm;
    private JButton btnExit;
    private JLabel jLabel1;
    private JLabel jLabel2;
    private JLabel jLabel3;
    private JPanel jPanel1;
    private JPanel jPanel2;
    private JTextField txtAmount;
    private JTextField txtName;
    private JTextField txtWBalance;
    // End of variables declaration                   
}
